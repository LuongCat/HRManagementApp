<Window x:Class="HRManagementApp.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="HR Management System"
        Height="800"
        Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized">

    <Window.Resources>
        <!-- Color Definitions -->
        <SolidColorBrush x:Key="PrimaryColor" Color="#2E86AB"/>
        <SolidColorBrush x:Key="SecondaryColor" Color="#A23B72"/>
        <SolidColorBrush x:Key="AccentColor" Color="#F18F01"/>
        <SolidColorBrush x:Key="BackgroundColor" Color="#F5F7FA"/>
        <SolidColorBrush x:Key="SidebarColor" Color="#2C3E50"/>
        <SolidColorBrush x:Key="CardColor" Color="White"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#2C3E50"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#7F8C8D"/>

        <!-- Button Styles -->
        <Style x:Key="SidebarButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,15"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#34495E"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#1ABC9C"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="4" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2574A9"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Card Style -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardColor}"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" BlurRadius="8" Opacity="0.1"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ========================== -->
        <!-- MODERN SCROLLBAR RESOURCES -->
        <!-- ========================== -->

        <!-- 1. Style cho cá»¥c trÆ°á»£t (Thumb) -->
        <Style x:Key="ScrollBarThumb" TargetType="{x:Type Thumb}">
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Setter Property="IsTabStop" Value="false"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Border x:Name="rectangle"
                                Background="#94A3B8"
                                CornerRadius="4"
                                Height="{TemplateBinding Height}"
                                SnapsToDevicePixels="True"
                                Width="{TemplateBinding Width}"/>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="rectangle" Property="Background" Value="#64748B"/>
                            </Trigger>
                            <Trigger Property="IsDragging" Value="true">
                                <Setter TargetName="rectangle" Property="Background" Value="#475569"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 2. Style cho nÃºt áº©n PageUp/PageDown (Ä‘á»ƒ lÃ m ná»n trong suá»‘t) -->
        <Style x:Key="ScrollBarPageButton" TargetType="{x:Type RepeatButton}">
            <Setter Property="OverridesDefaultStyle" Value="true"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Focusable" Value="false"/>
            <Setter Property="IsTabStop" Value="false"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                        <Rectangle Fill="{TemplateBinding Background}" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 3. Style cho thanh cuá»™n (ScrollBar) - Bá» mÅ©i tÃªn, lÃ m má»ng -->
        <Style x:Key="ModernScrollBar" TargetType="{x:Type ScrollBar}">
            <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false"/>
            <Setter Property="Stylus.IsFlicksEnabled" Value="false"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Width" Value="6"/> <!-- Äá»™ rá»™ng thanh cuá»™n -->
            <Setter Property="MinWidth" Value="6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollBar}">
                        <Grid x:Name="Bg" SnapsToDevicePixels="true">
                            <Track x:Name="PART_Track"
                                   IsDirectionReversed="true"
                                   IsEnabled="{TemplateBinding IsEnabled}">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="{x:Static ScrollBar.PageUpCommand}" Style="{StaticResource ScrollBarPageButton}"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="{x:Static ScrollBar.PageDownCommand}" Style="{StaticResource ScrollBarPageButton}"/>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Style="{StaticResource ScrollBarThumb}"/>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 4. Style cho ScrollViewer (Ãp dá»¥ng hiá»‡u á»©ng áº©n/hiá»‡n) -->
        <Style x:Key="ModernScrollViewer" TargetType="ScrollViewer">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollViewer">
                        <Grid Background="{TemplateBinding Background}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <ScrollContentPresenter x:Name="PART_ScrollContentPresenter"
                                                  Grid.Column="0"
                                                  Grid.Row="0"
                                                  Margin="{TemplateBinding Padding}"
                                                  Content="{TemplateBinding Content}"
                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                  CanContentScroll="{TemplateBinding CanContentScroll}"/>
                            
                            <!-- Thanh cuá»™n dá»c: Máº·c Ä‘á»‹nh Opacity = 0 (áº¨n) -->
                            <ScrollBar x:Name="PART_VerticalScrollBar"
                                     Grid.Column="1"
                                     Grid.Row="0"
                                     Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                                     ViewportSize="{Binding ViewportHeight, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                                     Maximum="{Binding ScrollableHeight, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                                     Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                                     Orientation="Vertical"
                                     Style="{StaticResource ModernScrollBar}"
                                     Opacity="0"/>
                        </Grid>
                        
                        <!-- Hiá»‡u á»©ng Fade In/Out -->
                        <ControlTemplate.Triggers>
                            <EventTrigger RoutedEvent="MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="PART_VerticalScrollBar"
                                                       Storyboard.TargetProperty="Opacity"
                                                       To="1"
                                                       Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                            <EventTrigger RoutedEvent="MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="PART_VerticalScrollBar"
                                                       Storyboard.TargetProperty="Opacity"
                                                       To="0"
                                                       Duration="0:0:0.3"
                                                       BeginTime="0:0:0.5"/> <!-- Chá» 0.5s rá»“i má»›i áº©n -->
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Background="{StaticResource BackgroundColor}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="{StaticResource SidebarColor}">
            <!-- Cáº¤U TRÃšC Má»šI: Grid chia 3 pháº§n -->
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/> <!-- Header + User Info (Cá»‘ Ä‘á»‹nh) -->
                    <RowDefinition Height="*"/>    <!-- Menu (Co dÃ£n, CÃ³ Scroll) -->
                    <RowDefinition Height="Auto"/> <!-- Logout (Cá»‘ Ä‘á»‹nh dÆ°á»›i Ä‘Ã¡y) -->
                </Grid.RowDefinitions>

                <!-- 1. Header & User Info -->
                <StackPanel Grid.Row="0">
                    <!-- Logo/Header -->
                    <Border Background="{StaticResource PrimaryColor}" Padding="20,25">
                        <StackPanel>
                            <TextBlock Text="HR Management" Foreground="White" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
                            <TextBlock Text="System" Foreground="White" FontSize="14" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- User Info -->
                    <Border Padding="20,15" Background="#34495E">
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Width="40" Height="40" Fill="{StaticResource AccentColor}"/>
                            <StackPanel Margin="10,0,0,0" VerticalAlignment="Center">
                                <TextBlock x:Name="txtUserName" Text="Guest" Foreground="White" FontWeight="SemiBold"/>
                                <TextBlock x:Name="txtUserRole" Text="Employee" Foreground="#BDC3C7" FontSize="11"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- 2. Navigation Menu (CÃ³ ScrollViewer) -->
                <!-- VerticalScrollBarVisibility="Auto" : Chá»‰ hiá»‡n thanh cuá»™n khi ná»™i dung quÃ¡ dÃ i -->
                <ScrollViewer Grid.Row="1" 
                              VerticalScrollBarVisibility="Auto" 
                              HorizontalScrollBarVisibility="Disabled"
                              Style="{StaticResource ModernScrollViewer}">
                    <StackPanel Margin="0,10,0,10">
                        <Button Style="{StaticResource SidebarButtonStyle}" Name="DashboardBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“Š" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Dashboard"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="EmployeesBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ‘¥" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Employees"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="AttendanceBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="â°" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Attendance"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="AccountBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ‘¤" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Account"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="RoleBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ”§" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Role"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="PayrollBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ’°" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Payroll"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="LeaveBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“…" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Leave Management"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="ChamCongBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="ScanChamCong"/>
                            </StackPanel>
                        </Button>
                       
                        
                        
                        <Button Style="{StaticResource SidebarButtonStyle}" Name="SettingsBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Cháº¥m CÃ´ng"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="EditPayrollBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ› ï¸" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="EditPayroll"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource SidebarButtonStyle}" Name="ReportsBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“ˆ" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="Reports"/>
                            </StackPanel>
                        </Button>
                        
                        <Button Style="{StaticResource SidebarButtonStyle}" Name="MyPayslip">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ‘¤" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="LÆ°Æ¡ng cá»§a tÃ´i"/>
                            </StackPanel>
                        </Button>
                        
                        <Button Style="{StaticResource SidebarButtonStyle}" Name="InforBtn">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ‘¤" FontSize="16" Margin="0,0,10,0"/>
                                <TextBlock Text="ThÃ´ng tin"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </ScrollViewer>

                <!-- 3. Logout Button (Cá»‘ Ä‘á»‹nh dÆ°á»›i Ä‘Ã¡y) -->
                <Button Grid.Row="2" 
                        Style="{StaticResource SidebarButtonStyle}" 
                        Name="LogoutBtn" 
                        Margin="0,10,0,20" 
                        Background="{StaticResource SecondaryColor}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸšª" FontSize="16" Margin="0,0,10,0"/>
                        <TextBlock Text="Logout"/>
                    </StackPanel>
                </Button>
                
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <ContentControl x:Name="ContentArea" Grid.Column="1"/>
    </Grid>
</Window>